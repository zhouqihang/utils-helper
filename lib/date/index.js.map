{"version":3,"file":"index.js","sources":["../../src/date/index.ts"],"sourcesContent":["class DateUtil {\n    /**\n     * Format date to string\n     * @param date Date you want format\n     * @param format Format rule\n     * @returns String\n     */\n    static format(date: string | number | Date, format: string = '') {\n        let _date: Date = null;\n        if (date instanceof Date) {\n            _date = date;\n        }\n        else {\n           _date = new Date(date);\n        }\n\n        let formatObj = {\n            'M+': _date.getMonth() + 1,\n            'd+': _date.getDate(),\n            'H+': _date.getHours(),\n            'm+': _date.getMinutes(),\n            's+': _date.getSeconds(),\n            'q+' : Math.floor((_date.getMonth()+3)/3),\n            'S': _date.getMilliseconds()\n        }\n\n        // replace year\n        if (/(y+)/.test(format)) {\n            format = format.replace(RegExp.$1, `${_date.getFullYear()}`.substr(4 - RegExp.$1.length));\n        }\n        // replace month day hour minute second\n        Object.keys(formatObj)\n            .forEach((k) => {\n                if (new RegExp(`(${k})`).test(format)) {\n                    format = format.replace(\n                        RegExp.$1,\n                        RegExp.$1.length === 1\n                            ? formatObj[k]\n                            : `00${formatObj[k]}`.substr(`${formatObj[k]}`.length)\n                    );\n                }\n            });\n        return format;\n    }\n\n    private date: Date | null = null;\n    private formatString = 'yyyy-MM-dd HH:mm:ss';\n\n    /**\n     * constructor\n     * @param p Date string or timestamp or Date object\n     */\n    constructor(p?: string | number | Date) {\n        this.setDate(p);\n    }\n\n    /**\n     * Get current date object\n     * @returns Date object\n     */\n    public getDate() {\n        return this.date;\n    }\n\n    /**\n     * Set date object\n     * @param date Date string or timestamp or Date object\n     */\n    public setDate(date?: string | number | Date) {\n        if (date instanceof Date) {\n            this.date = date;\n        }\n        else if (date) {\n            this.date = new Date(date);\n        }\n        else {\n            this.date = new Date();\n        }\n        return this;\n    }\n\n    /**\n     * Format date to string\n     * @param string Format rule, if null, it will be yyyy-MM-dd HH:mm:ss\n     * @returns String\n     */\n    public format(string: string = null) {\n        if (string === null) {\n            return DateUtil.format(this.date, this.formatString);\n        }\n        return DateUtil.format(this.date, string);\n    }\n\n}\n\nexport default DateUtil;"],"names":[],"mappings":";;;;;;IAAA;;;;;QAoDI,kBAAY,CAA0B;YAP9B,SAAI,GAAgB,IAAI,CAAC;YACzB,iBAAY,GAAG,qBAAqB,CAAC;YAOzC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SACnB;;;;;;;QA/CM,eAAM,GAAb,UAAc,IAA4B,EAAE,MAAmB;YAAnB,uBAAA,EAAA,WAAmB;YAC3D,IAAI,KAAK,GAAS,IAAI,CAAC;YACvB,IAAI,IAAI,YAAY,IAAI,EAAE;gBACtB,KAAK,GAAG,IAAI,CAAC;aAChB;iBACI;gBACF,KAAK,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;aACzB;YAED,IAAI,SAAS,GAAG;gBACZ,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC;gBAC1B,IAAI,EAAE,KAAK,CAAC,OAAO,EAAE;gBACrB,IAAI,EAAE,KAAK,CAAC,QAAQ,EAAE;gBACtB,IAAI,EAAE,KAAK,CAAC,UAAU,EAAE;gBACxB,IAAI,EAAE,KAAK,CAAC,UAAU,EAAE;gBACxB,IAAI,EAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAC,CAAC,IAAE,CAAC,CAAC;gBACzC,GAAG,EAAE,KAAK,CAAC,eAAe,EAAE;aAC/B,CAAA;;YAGD,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;gBACrB,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,CAAA,KAAG,KAAK,CAAC,WAAW,EAAI,EAAC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;aAC7F;;YAED,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;iBACjB,OAAO,CAAC,UAAC,CAAC;gBACP,IAAI,IAAI,MAAM,CAAC,MAAI,CAAC,MAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;oBACnC,MAAM,GAAG,MAAM,CAAC,OAAO,CACnB,MAAM,CAAC,EAAE,EACT,MAAM,CAAC,EAAE,CAAC,MAAM,KAAK,CAAC;0BAChB,SAAS,CAAC,CAAC,CAAC;0BACZ,CAAA,OAAK,SAAS,CAAC,CAAC,CAAG,EAAC,MAAM,CAAC,CAAA,KAAG,SAAS,CAAC,CAAC,CAAG,EAAC,MAAM,CAAC,CAC7D,CAAC;iBACL;aACJ,CAAC,CAAC;YACP,OAAO,MAAM,CAAC;SACjB;;;;;QAiBM,0BAAO,GAAd;YACI,OAAO,IAAI,CAAC,IAAI,CAAC;SACpB;;;;;QAMM,0BAAO,GAAd,UAAe,IAA6B;YACxC,IAAI,IAAI,YAAY,IAAI,EAAE;gBACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;aACpB;iBACI,IAAI,IAAI,EAAE;gBACX,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B;iBACI;gBACD,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;aAC1B;YACD,OAAO,IAAI,CAAC;SACf;;;;;;QAOM,yBAAM,GAAb,UAAc,MAAqB;YAArB,uBAAA,EAAA,aAAqB;YAC/B,IAAI,MAAM,KAAK,IAAI,EAAE;gBACjB,OAAO,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;aACxD;YACD,OAAO,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;SAC7C;QAEL,eAAC;IAAD,CAAC,IAAA;;;;;;;;"}